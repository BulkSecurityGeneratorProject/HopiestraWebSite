<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
    <changeSet author="Nabot (generated)" id="1531426786166-1">
        <createTable tableName="article_tags">
            <column name="articles_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="tags_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-2">
        <createTable tableName="international_tag">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="international_tagPK"/>
            </column>
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="language_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-3">
        <createTable tableName="tag_international_tags">
            <column name="tags_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="international_tags_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-4">
        <addColumn tableName="tag">
            <column name="code" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-5">
        <addPrimaryKey columnNames="articles_id, tags_id" tableName="article_tags"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-6">
        <addPrimaryKey columnNames="tags_id, international_tags_id" tableName="tag_international_tags"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-7">
        <addUniqueConstraint columnNames="code" constraintName="UC_TAGCODE_COL" tableName="tag"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-8">
        <addForeignKeyConstraint baseColumnNames="language_id" baseTableName="international_tag" constraintName="FKfaqjbspq9rmk0686s3htq5cm1" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="language"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-9">
        <addForeignKeyConstraint baseColumnNames="articles_id" baseTableName="article_tags" constraintName="FKhd7fyhyhf5bpbgw8rri8j3grv" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="article"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-10">
        <addForeignKeyConstraint baseColumnNames="international_tags_id" baseTableName="tag_international_tags" constraintName="FKljby8j3mmx1mgtiqd3cffmh8h" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="international_tag"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-11">
        <addForeignKeyConstraint baseColumnNames="tags_id" baseTableName="tag_international_tags" constraintName="FKobyb9b2il0i3prm7qkqcwx8wx" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="tag"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-12">
        <addForeignKeyConstraint baseColumnNames="tags_id" baseTableName="article_tags" constraintName="FKp6owh2p5p9yllwwrc2hn7bnxr" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="tag"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-13">
        <dropForeignKeyConstraint baseTableName="international_article_tags" constraintName="fk_international_article_tags_international_articles_id"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-14">
        <dropForeignKeyConstraint baseTableName="international_article_tags" constraintName="fk_international_article_tags_tags_id"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-15">
        <dropUniqueConstraint constraintName="jhi_social_user_connection_user_id_provider_id_provider_use_key" tableName="jhi_social_user_connection"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-16">
        <dropUniqueConstraint constraintName="jhi_social_user_connection_user_id_provider_id_rank_key" tableName="jhi_social_user_connection"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-17">
        <dropUniqueConstraint constraintName="uk_article_admin_title" tableName="article"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-18">
        <dropUniqueConstraint constraintName="uk_language_code" tableName="language"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-19">
        <dropUniqueConstraint constraintName="uk_language_name" tableName="language"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-20">
        <dropTable tableName="international_article_tags"/>
    </changeSet>
    <changeSet author="Nabot (generated)" id="1531426786166-21">
        <dropColumn columnName="name" tableName="tag"/>
    </changeSet>
</databaseChangeLog>
